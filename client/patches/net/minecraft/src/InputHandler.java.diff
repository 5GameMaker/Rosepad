--- InputHandler.java
+++ InputHandler.java
@@ -164,10 +164,10 @@
             InputHandler.mc.thePlayer.setPosition(InputHandler.mc.thePlayer.posX, InputHandler.mc.thePlayer.posY, InputHandler.mc.thePlayer.posZ);
         }
-        else if (InputHandler.KBEventKey == 47 && InputHandler.KBEventKeyState && InputHandler.cheatsEnabled && !(InputHandler.mc.currentScreen instanceof GuiChat)) {
-            if (InputHandler.mc.thePlayer != null && !IsKeyDown(29)) {
+else if (InputHandler.KBEventKey == mc.gameSettings.keyBindOpenGMEnv.keyCode && InputHandler.KBEventKeyState && InputHandler.cheatsEnabled && !(InputHandler.mc.currentScreen instanceof GuiChat)) {
+if (InputHandler.mc.thePlayer != null && mc.currentScreen == null) {
                 InputHandler.mc.displayGuiScreen(new ScreenItemCheat(InputHandler.mc));
             }
         }
-        else if (InputHandler.KBEventKey == 42 && InputHandler.KBEventKeyState) {
+else if (InputHandler.KBEventKey == mc.gameSettings.keyBindDash.keyCode && InputHandler.KBEventKeyState) {
             InputDash();
         }
